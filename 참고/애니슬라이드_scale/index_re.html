<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <link rel="stylesheet" href="./style_re.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
    <script>
        $(()=>{
            let wd = $('.slide_list>.item').eq(0).width();
            let len = $('.slide_list>li').length

            $('.slide_list >li').css({width : wd, height: wd})
            $('.slide_list >li').eq(1).css({width : wd*2, height: wd*2})
            $('.slide_list >li').eq(0).css({ opacity : 0.2})
            $('.prev').css({ left :wd+10})
            $('.next').css({ left :wd*3-50})
           

            let intv = setInterval(function () {
                nextAni()
            }, 3000)

            $('.next').click(function(){
                clearInterval(intv)
                nextAni();
                intv = setInterval(function () {
                    nextAni()
                }, 3000)
                
            })
            $('.prev').click(function(){
                clearInterval(intv)
                prevAni();
                intv = setInterval(function () {
                    nextAni()
                }, 3000)
                
            })

            function nextAni() {
                $('.slide_list >li:gt(1)').css({ opacity : 1})
                $('.slide_list >li').eq(1).animate({width : wd, height: wd, opacity:0.2}, 700)
                $('.slide_list >li').eq(2).animate({width : wd*2, height: wd*2}, 700)

                $('.slide_list').animate({
                        marginLeft : -wd-5+'px'
                    },700,function(){
                    
                    $('.slide_list >li').eq(0).appendTo($('.slide_list'))
                    // $('.slide_list >li').eq(0).css({opacity:0.2})
                    $('.slide_list').css('margin-left','0px')
         
                })
            }

            function prevAni() {
                              
                $('.slide_list>li').eq(-1).prependTo($('.slide_list'))
                $('.slide_list').css('margin-left', -wd + 'px')
                $('.slide_list').not(':animated').animate({
                    'margin-left': '0px'
                }, 700)

                $('.slide_list >li').eq(0).css({ opacity :0.2})
                $('.slide_list >li:gt(0)').css({ opacity : 1})
                $('.slide_list >li').eq(1).animate({width : wd*2, height: wd*2}, 700)
                $('.slide_list >li').eq(2).animate({width : wd, height: wd}, 700)

                
            }
        })
    </script>
   
</head>
<body>
    
    <h1>애니메이션 슬라이드</h1>
    <section class="sec1">
        <div class="slide_con">
            <ul class="slide_list">
                <li class="item">
                    <p class="item_img"><img src="./img/product01.png" alt="이미지1"></p>
                    <p class="item_title">상품제목1</p>
                    <p class="item_detail">상품 상세내용1</p>
                    <a class="item_link" href="#">자세히보기</a>
                </li>
                <li class="item">
                    <p class="item_img"><img src="./img/product02.png" alt="이미지3"></p>
                    <p class="item_title">상품제목2</p>
                    <p class="item_detail">상품 상세내용2</p>
                    <a class="item_link" href="#">자세히보기</a>
                </li>
                <li class="item">
                    <p class="item_img"><img src="./img/product03.png" alt="이미지3"></p>
                    <p class="item_title">상품제목3</p>
                    <p class="item_detail">상품 상세내용3</p>
                    <a class="item_link" href="#">자세히보기</a>
                </li>
                <li class="item">
                    <p class="item_img"><img src="./img/product04.png" alt="이미지4"></p>
                    <p class="item_title">상품제목4</p>
                    <p class="item_detail">상품 상세내용4</p>
                    <a class="item_link" href="#">자세히보기</a>
                </li>
                <li class="item">
                    <p class="item_img"><img src="./img/product05.png" alt="이미지5"></p>
                    <p class="item_title">상품제목5</p>
                    <p class="item_detail">상품 상세내용5</p>
                    <a class="item_link" href="#">자세히보기</a>
                </li>
                <li class="item">
                    <p class="item_img"><img src="./img/product06.png" alt="이미지6"></p>
                    <p class="item_title">상품제목6</p>
                    <p class="item_detail">상품 상세내용6</p>
                    <a class="item_link" href="#">자세히보기</a>
                </li>
                <li class="item">
                    <p class="item_img"><img src="./img/product06.png" alt="이미지6"></p>
                    <p class="item_title">상품제목7</p>
                    <p class="item_detail">상품 상세내용7</p>
                    <a class="item_link" href="#">자세히보기</a>
                </li>
            </ul>
            <button class="prev">이전</button>
            <button class="next">다음</button>
        </div>
    </section>
</body>
</html>